document.addEventListener("DOMContentLoaded",(async function(){try{const e=await fetch("/json/sites.json"),t=await e.json(),n=document.getElementById("status-container"),o=3;let a=0;const s=t.length,r=t.map((e=>{const t=document.createElement("div");return t.className="block rounded-lg bg-gray-800 p-6 hover:bg-blue-700",t.innerHTML=`\n              <div class="flex items-center">\n                <i class="fas fa-globe mr-3 text-gray-300"></i>\n                <div>\n                  <p class="font-bold text-gray-100">${e.name}</p>\n                  <p id="${e.statusElement}" class="text-gray-300 font-agrandir">Verificando estado...</p>\n                </div>\n              </div>\n            `,n.appendChild(t),async function(e,t){for(;t>0;)try{const t=Date.now(),n=(await fetch(e.url,{mode:"no-cors"}),Date.now()-t),o=document.getElementById(e.statusElement);return o.innerHTML=`Estado: Operativo. Ping: ${n} ms.`,void o.classList.add("text-green-500")}catch{--t>0&&await new Promise((e=>setTimeout(e,1e3)))}const n=document.getElementById(e.statusElement);n.innerHTML="Estado: Offline. No se pudo establecer conexiÃ³n.",n.classList.add("text-red-500")}(e,o).catch((()=>{a++}))}));await Promise.all(r),a===s&&(window.location.href="/errors?code=500")}catch(e){console.error("Error loading the sites:",e),window.location.href="/errors?code=500"}}));